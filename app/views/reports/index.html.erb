<script>
	var options = {};
	Chart.defaults.global.responsive = true;
	Chart.defaults.global.maintainAspectRatio = false;
</script>

<h1>Reports</h1>

<% @all_workouts.each do |workout| %>
	<div class="panel panel-default">
		<div class="panel-heading">
			<h3 class="panel-title"><%= workout.workout_type.title %></h3>
		</div>
		<div class="panel-body">
			<div><canvas id="<%= workout.workout_type.title.gsub(/\s+/, "") %>_chart"></canvas></div>
		</div>
	</div>
	
	<script>
		var data = {
			labels: <%= raw instance_variable_get("@#{workout.workout_type.title.gsub(/\s+/, "")}_label") %>,
			datasets: [{
				fillColor: "rgba(220,220,220,0.2)",
				strokeColor: "rgba(220,220,220,1)",
				pointColor: "rgba(220,220,220,1)",
				pointStrokeColor: "#fff",
				pointHighlightFill: "#fff",
				pointHighlightStroke: "rgba(220,220,220,1)",
				data: <%= raw instance_variable_get("@#{workout.workout_type.title.gsub(/\s+/, "")}_data") %>,
			}]
		};
		
		new Chart($("#<%= workout.workout_type.title.gsub(/\s+/, "") %>_chart").get(0).getContext("2d")).Line(data, options);
	</script>

<% end %>